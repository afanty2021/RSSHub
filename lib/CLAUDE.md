[æ ¹ç›®å½•](../../CLAUDE.md) > **lib**

# æ ¸å¿ƒåº”ç”¨æ¨¡å—

## æ¨¡å—èŒè´£

lib ç›®å½•æ˜¯ RSSHub çš„æ ¸å¿ƒåº”ç”¨æ¨¡å—ï¼Œè´Ÿè´£ï¼š
- åº”ç”¨å¯åŠ¨å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
- è·¯ç”±æ³¨å†Œå’Œåˆ†å‘
- å…¨å±€é…ç½®ç®¡ç†
- ä¸­é—´ä»¶ç¼–æ’

## å…¥å£ä¸å¯åŠ¨

### ä¸»è¦å…¥å£æ–‡ä»¶
- **index.ts** - åº”ç”¨ç¨‹åºå…¥å£ï¼Œå¤„ç†é›†ç¾¤æ¨¡å¼å¯åŠ¨
- **app.ts** - åº”ç”¨ç¨‹åºä»£ç†ï¼Œç¡®ä¿è¯·æ±‚é‡å†™å™¨è¿è¡Œ
- **app-bootstrap.tsx** - åº”ç”¨ç¨‹åºå¯åŠ¨é…ç½®å’Œä¸­é—´ä»¶æ³¨å†Œ

### å¯åŠ¨æµç¨‹
1. åŠ è½½è¯·æ±‚é‡å†™å™¨
2. åˆ›å»º Hono åº”ç”¨å®ä¾‹
3. æ³¨å†Œå…¨å±€ä¸­é—´ä»¶
4. æ³¨å†Œè·¯ç”±ç³»ç»Ÿ
5. æ³¨å†Œ API ç³»ç»Ÿ
6. é…ç½®é”™è¯¯å¤„ç†

## å¯¹å¤–æ¥å£

### åº”ç”¨æ¥å£
- HTTP è¯·æ±‚å¤„ç†
- è·¯ç”±åˆ†å‘
- ä¸­é—´ä»¶é“¾å¤„ç†
- é™æ€èµ„æºæœåŠ¡

### é…ç½®æ¥å£
- ç¯å¢ƒå˜é‡è¯»å–
- åŠ¨æ€é…ç½®æ›´æ–°
- ç‰¹æ€§å¼€å…³æ§åˆ¶

## å…³é”®ä¾èµ–ä¸é…ç½®

### æ ¸å¿ƒä¾èµ–
- **@hono/node-server** - Node.js æœåŠ¡å™¨é€‚é…å™¨
- **directory-import** - åŠ¨æ€è·¯ç”±å¯¼å…¥
- **@scalar/hono-api-reference** - API æ–‡æ¡£ç”Ÿæˆ

### é…ç½®ç³»ç»Ÿ
- æ”¯æŒç¯å¢ƒå˜é‡é…ç½®
- æ”¯æŒç‰¹æ€§å¼€å…³
- æ”¯æŒå¤šç¯å¢ƒéƒ¨ç½²
- æ”¯æŒ Docker é…ç½®

## æ•°æ®æ¨¡å‹

### é…ç½®æ¨¡å‹
```typescript
interface Config {
    // åº”ç”¨é…ç½®
    enableCluster: boolean;
    nodeName: string;

    // ç½‘ç»œé…ç½®
    port: number;
    requestTimeout: number;

    // ç¼“å­˜é…ç½®
    cacheType: 'memory' | 'redis';
    cacheExpire: number;

    // åŠŸèƒ½å¼€å…³
    disableNsfw: boolean;
    debugInfo: boolean;
}
```

### è·¯ç”±æ¨¡å‹
```typescript
interface Route {
    path: string | string[];
    categories: string[];
    example: string;
    parameters: Record<string, string>;
    features: RouteFeatures;
    name: string;
    maintainers: string[];
    handler: Handler;
}
```

## æµ‹è¯•ä¸è´¨é‡

### æµ‹è¯•è¦†ç›–
- app.test.ts - åº”ç”¨å¯åŠ¨æµ‹è¯•
- config.test.ts - é…ç½®ç³»ç»Ÿæµ‹è¯•
- setup.test.ts - ç¯å¢ƒè®¾ç½®æµ‹è¯•

### è´¨é‡ä¿è¯
- TypeScript ç±»å‹æ£€æŸ¥
- ESLint ä»£ç è§„èŒƒ
- æµ‹è¯•è¦†ç›–ç‡ç›‘æ§

## ç›¸å…³æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶
- `index.ts` - åº”ç”¨å…¥å£
- `app.ts` - åº”ç”¨ä»£ç†
- `app-bootstrap.tsx` - å¯åŠ¨é…ç½®
- `config.ts` - é…ç½®ç®¡ç†
- `registry.ts` - è·¯ç”±æ³¨å†Œ

### ç±»å‹å®šä¹‰
- `types.ts` - å…¨å±€ç±»å‹å®šä¹‰
- `route-paths.d.ts` - è·¯ç”±è·¯å¾„ç±»å‹

### æœåŠ¡å™¨é…ç½®
- `server.ts` - æœåŠ¡å™¨é…ç½®
- `router.js` - è·¯ç”±å™¨é…ç½®

## å˜æ›´è®°å½• (Changelog)

### 2025-12-07 14:11:44
- âœ¨ åˆ›å»ºæ ¸å¿ƒæ¨¡å—æ–‡æ¡£
- ğŸ“ è®°å½•å¯åŠ¨æµç¨‹å’Œé…ç½®ç³»ç»Ÿ
- ğŸ”— å»ºç«‹ä¸å­æ¨¡å—çš„å¯¼èˆªé“¾æ¥